$(document).ready(function(){function t(){var t=0;$("td.subtotal").each(function(e){t+=parseInt($(this).text())}),$("td.totalShown span").text(t+"$"),$("td.totalHidden span").text(t+"$"),e()}function e(){var t=$("input.cartNameHolder").val(),e=[];$(".itemRow").each(function(){var t={};$(this).find(".productMainCategoryHolder").each(function(){t.category=$(this).val()}),$(this).find(".productSubCategoryHolder").each(function(){t.subcategory=$(this).val()}),$(this).find(".productIdHolder").each(function(){t.id=$(this).val()}),$(this).find(".quantity").each(function(){t.quantity=$(this).val()}),e.push(t)});var n={cartId:t,cartContent:e};$.get("/updateExistingCart",n,function(){})}function n(t,e){var n=t.height(),i=e.height();c.css("height",n),t.fadeToggle(g,function(){c.animate({height:i},g,function(){e.fadeToggle(g)})})}function i(t,e){t.fadeOut(l,function(){$(this).text(e).fadeIn(l)})}function o(t,e,n,o,r,s){var a=t.text();i(n,s),t.addClass(o),e.removeClass("glyphicon-chevron-right"),e.addClass(r+" "+o),setTimeout(function(){i(n,a),t.removeClass(o),e.addClass("glyphicon-chevron-right"),e.removeClass(r+" "+o)},u)}$.get("/newVisitor",function(){}),$(document).on("click",".fa-cart-plus ,button.add-to-cart.btn.btn-default",function(){var t=$(this).prev().val();$.get("/addProductToCart",{path:t},function(t){})}),$(document).on("change",".quantity",function(){var e=parseInt($(this).parent().prev().text()),n=$(this).val(),i=n*e;$(this).parent().next().text(i);t()}),$(document).on("click",".removeBtn",function(){$(this).parent().parent().remove(),t()});var r=$("#login-form"),s=$("#lost-form"),a=$("#register-form"),c=$("#div-forms"),g=300,l=150,u=2e3;$("form").submit(function(){switch(this.id){case"login-form":var t=($("#headerTitle").text("Log In"),$("#login_username").val());$("#login_password").val();return"ERROR"==t?o($("#div-login-msg"),$("#icon-login-msg"),$("#text-login-msg"),"error","glyphicon-remove","Login error"):o($("#div-login-msg"),$("#icon-login-msg"),$("#text-login-msg"),"success","glyphicon-ok","Login OK"),!1;case"lost-form":$("#headerTitle").text("Retrieve password");return"ERROR"==$("#lost_email").val()?o($("#div-lost-msg"),$("#icon-lost-msg"),$("#text-lost-msg"),"error","glyphicon-remove","Send error"):o($("#div-lost-msg"),$("#icon-lost-msg"),$("#text-lost-msg"),"success","glyphicon-ok","Send OK"),!1;case"register-form":var e=($("##headerTitle").text("Register"),$("#register_username").val());$("#register_email").val(),$("#register_password").val();return"ERROR"==e?o($("#div-register-msg"),$("#icon-register-msg"),$("#text-register-msg"),"error","glyphicon-remove","Register error"):o($("#div-register-msg"),$("#icon-register-msg"),$("#text-register-msg"),"success","glyphicon-ok","Register OK"),!1;default:return!1}}),$("#login_register_btn").click(function(){n(r,a)}),$("#register_login_btn").click(function(){n(a,r)}),$("#login_lost_btn").click(function(){n(r,s)}),$("#lost_login_btn").click(function(){n(s,r)}),$("#lost_register_btn").click(function(){n(s,a)}),$("#register_lost_btn").click(function(){n(a,s)})});